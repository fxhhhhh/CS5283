Current libzmq version is 4.3.4
Current pyzmq version is 23.2.1
Demo program for TCP Router with ZeroMQ
GroceryOrder main: obtain the object
GroceryOrder main: initialize the object
Router Object: Initialize
Custom Network Protocol Object: Initialize
Obtain the ZMQ context
Obtain the Poller
Obtain the ROUTER type socket
Bind the ROUTER socket
TCP router will be binding on tcp://10.0.0.3:4444
Router acquiring connection socket
Router connecting to next hop
TCP client will be connecting to tcp://10.0.0.6:4444
Register sockets for incoming events
Router now starting its forwarding loop
Poller polling
Receive from prev hop
Router received request from prev hop via ROUTER: [b'\x00k\x8bEh', b'', b'{"type": 0, "veggie": {"cucumber": 1, "tomato": 1, "potato": 1, "carrot": 1, "eggplant": 1}, "drinks": {"cans": {"beer": 1, "coke": 1, "coffee": 1}, "bottle": {"sprite": 1, "apple_juice": 1, "orange_juice": 1}}, "milk": [], "bread": [], "meat": []}']
Forward the same request to next hop over the DEALER
Poller polling
Receive from next hop
Router received response from next hop via DEALER: [b'\x00k\x8bEh', b'', b'{"type": 2, "code": 1, "contents": 2}']
Send reply to prev hop via ROUTER
Poller polling
Receive from prev hop
Router received request from prev hop via ROUTER: [b'\x00k\x8bEk', b'', b'{"type": 0, "veggie": {"cucumber": 1, "tomato": 1, "potato": 1, "carrot": 1, "eggplant": 1}, "drinks": {"cans": {"beer": 1, "coke": 1, "coffee": 1}, "bottle": {"sprite": 1, "apple_juice": 1, "orange_juice": 1}}, "milk": [], "bread": [], "meat": []}']
Forward the same request to next hop over the DEALER
Poller polling
Receive from next hop
Router received response from next hop via DEALER: [b'\x00k\x8bEk', b'', b'{"type": 2, "code": 1, "contents": 2}']
Send reply to prev hop via ROUTER
Poller polling
Receive from prev hop
Router received request from prev hop via ROUTER: [b'\x00k\x8bEj', b'', b'{"type": 1, "dispenser": 0, "icemaker": 1, "Lightbulb": 0, "Fridge_temp": 10, "freezer_temp": 20, "Sensor_status": 0}']
Forward the same request to next hop over the DEALER
Poller polling
Receive from next hop
Router received response from next hop via DEALER: [b'\x00k\x8bEj', b'', b'{"type": 2, "code": 0, "contents": 1}']
Send reply to prev hop via ROUTER
Poller polling
Receive from prev hop
Router received request from prev hop via ROUTER: [b'\x00k\x8bEj', b'', b'{"type": 0, "veggie": {"cucumber": 1, "tomato": 1, "potato": 1, "carrot": 1, "eggplant": 1}, "drinks": {"cans": {"beer": 1, "coke": 1, "coffee": 1}, "bottle": {"sprite": 1, "apple_juice": 1, "orange_juice": 1}}, "milk": [], "bread": [], "meat": []}']
Forward the same request to next hop over the DEALER
Poller polling
Receive from next hop
Router received response from next hop via DEALER: [b'\x00k\x8bEj', b'', b'{"type": 2, "code": 1, "contents": 2}']
Send reply to prev hop via ROUTER
Poller polling
Receive from prev hop
Router received request from prev hop via ROUTER: [b'\x00k\x8bEk', b'', b'{"type": 1, "dispenser": 0, "icemaker": 1, "Lightbulb": 0, "Fridge_temp": 10, "freezer_temp": 20, "Sensor_status": 0}']
Forward the same request to next hop over the DEALER
Poller polling
Receive from next hop
Router received response from next hop via DEALER: [b'\x00k\x8bEk', b'', b'{"type": 2, "code": 0, "contents": 1}']
Send reply to prev hop via ROUTER
Poller polling
Receive from prev hop
Router received request from prev hop via ROUTER: [b'\x00k\x8bEj', b'', b'{"type": 0, "veggie": {"cucumber": 1, "tomato": 1, "potato": 1, "carrot": 1, "eggplant": 1}, "drinks": {"cans": {"beer": 1, "coke": 1, "coffee": 1}, "bottle": {"sprite": 1, "apple_juice": 1, "orange_juice": 1}}, "milk": [], "bread": [], "meat": []}']
Forward the same request to next hop over the DEALER
Poller polling
Receive from next hop
Router received response from next hop via DEALER: [b'\x00k\x8bEj', b'', b'{"type": 2, "code": 1, "contents": 2}']
Send reply to prev hop via ROUTER
Poller polling
Receive from prev hop
Router received request from prev hop via ROUTER: [b'\x00k\x8bEk', b'', b'{"type": 1, "dispenser": 0, "icemaker": 1, "Lightbulb": 0, "Fridge_temp": 10, "freezer_temp": 20, "Sensor_status": 0}']
Forward the same request to next hop over the DEALER
Poller polling
Receive from next hop
Router received response from next hop via DEALER: [b'\x00k\x8bEk', b'', b'{"type": 2, "code": 0, "contents": 1}']
Send reply to prev hop via ROUTER
Poller polling
Receive from prev hop
Router received request from prev hop via ROUTER: [b'\x00k\x8bEj', b'', b'{"type": 0, "veggie": {"cucumber": 1, "tomato": 1, "potato": 1, "carrot": 1, "eggplant": 1}, "drinks": {"cans": {"beer": 1, "coke": 1, "coffee": 1}, "bottle": {"sprite": 1, "apple_juice": 1, "orange_juice": 1}}, "milk": [], "bread": [], "meat": []}']
Forward the same request to next hop over the DEALER
Poller polling
Receive from next hop
Router received response from next hop via DEALER: [b'\x00k\x8bEj', b'', b'{"type": 2, "code": 1, "contents": 2}']
Send reply to prev hop via ROUTER
Poller polling
Receive from prev hop
Router received request from prev hop via ROUTER: [b'\x00k\x8bEk', b'', b'{"type": 1, "dispenser": 0, "icemaker": 1, "Lightbulb": 0, "Fridge_temp": 10, "freezer_temp": 20, "Sensor_status": 0}']
Forward the same request to next hop over the DEALER
Poller polling
Receive from next hop
Router received response from next hop via DEALER: [b'\x00k\x8bEk', b'', b'{"type": 2, "code": 0, "contents": 1}']
Send reply to prev hop via ROUTER
Poller polling
Receive from prev hop
Router received request from prev hop via ROUTER: [b'\x00k\x8bEj', b'', b'{"type": 0, "veggie": {"cucumber": 1, "tomato": 1, "potato": 1, "carrot": 1, "eggplant": 1}, "drinks": {"cans": {"beer": 1, "coke": 1, "coffee": 1}, "bottle": {"sprite": 1, "apple_juice": 1, "orange_juice": 1}}, "milk": [], "bread": [], "meat": []}']
Forward the same request to next hop over the DEALER
Poller polling
Receive from next hop
Router received response from next hop via DEALER: [b'\x00k\x8bEj', b'', b'{"type": 2, "code": 1, "contents": 2}']
Send reply to prev hop via ROUTER
Poller polling
Receive from prev hop
Router received request from prev hop via ROUTER: [b'\x00k\x8bEk', b'', b'{"type": 1, "dispenser": 0, "icemaker": 1, "Lightbulb": 0, "Fridge_temp": 10, "freezer_temp": 20, "Sensor_status": 0}']
Forward the same request to next hop over the DEALER
Poller polling
Receive from next hop
Router received response from next hop via DEALER: [b'\x00k\x8bEk', b'', b'{"type": 2, "code": 0, "contents": 1}']
Send reply to prev hop via ROUTER
Poller polling
Receive from prev hop
Router received request from prev hop via ROUTER: [b'\x00k\x8bEj', b'', b'{"type": 0, "veggie": {"cucumber": 1, "tomato": 1, "potato": 1, "carrot": 1, "eggplant": 1}, "drinks": {"cans": {"beer": 1, "coke": 1, "coffee": 1}, "bottle": {"sprite": 1, "apple_juice": 1, "orange_juice": 1}}, "milk": [], "bread": [], "meat": []}']
Forward the same request to next hop over the DEALER
Poller polling
Receive from next hop
Router received response from next hop via DEALER: [b'\x00k\x8bEj', b'', b'{"type": 2, "code": 1, "contents": 2}']
Send reply to prev hop via ROUTER
Poller polling
Receive from prev hop
Router received request from prev hop via ROUTER: [b'\x00k\x8bEk', b'', b'{"type": 1, "dispenser": 0, "icemaker": 1, "Lightbulb": 0, "Fridge_temp": 10, "freezer_temp": 20, "Sensor_status": 0}']
Forward the same request to next hop over the DEALER
Poller polling
Receive from next hop
Router received response from next hop via DEALER: [b'\x00k\x8bEk', b'', b'{"type": 2, "code": 0, "contents": 1}']
Send reply to prev hop via ROUTER
Poller polling
Receive from prev hop
Router received request from prev hop via ROUTER: [b'\x00k\x8bEl', b'', b'{"type": 0, "veggie": {"cucumber": 1, "tomato": 1, "potato": 1, "carrot": 1, "eggplant": 1}, "drinks": {"cans": {"beer": 1, "coke": 1, "coffee": 1}, "bottle": {"sprite": 1, "apple_juice": 1, "orange_juice": 1}}, "milk": [], "bread": [], "meat": []}']
Forward the same request to next hop over the DEALER
Poller polling
Receive from next hop
Router received response from next hop via DEALER: [b'\x00k\x8bEl', b'', b'{"type": 2, "code": 1, "contents": 2}']
